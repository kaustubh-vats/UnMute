const SCRIPT_ID="unmute__script";document.addEventListener("DOMContentLoaded",()=>{chrome.storage.local.get(["timerCoords"],function(t){createScript(t.timerCoords)})});const getKey=t=>t.includes("meet.google")?"meet":"zoom",getData=(t,e)=>{if(t)return t[e]},getOrDefault=(t,e)=>getData(e,getKey(t))||getData(e,"default");window.addEventListener("message",t=>{try{let e=JSON.parse(t.data);"UNMUTE_UPDATE_TIMER_X"===e.message&&chrome.storage.local.get(["timerCoords"],function(t){let r=t||{timerCoords:{}};r.timerCoords||(r.timerCoords={}),r.timerCoords[getKey(location.hostname)]=e.value,r.timerCoords.default=e.value,chrome.storage.local.set(r,function(){})})}catch(r){}});const getScript=()=>document.querySelector("#"+SCRIPT_ID),removeScript=()=>{let t=getScript();t&&t.remove()},createScript=t=>{if(getScript())return;let e=getOrDefault(location.hostname,t),r=chrome.runtime.getURL("css/styles.css"),o=document.createElement("script");o.setAttribute("data-cssurl",r),o.setAttribute("id",SCRIPT_ID),o.setAttribute("src",chrome.runtime.getURL("js/worker.js")),o.setAttribute("data-timerx",e?.x),o.setAttribute("data-timery",e?.y),document.body.appendChild(o)};try{chrome.storage.local.get(["timerCoords"],function(t){createScript(t.timerCoords)})}catch(t){}